---
# Example inventory file for CLS role
# This demonstrates how to configure the cls role in your Ansible inventory

all:
  hosts:
    app-server-01:
      # Enable CLS feature
      neuron_features:
        cls: true
      
      # Java application configuration
      neuron_cls_java:
        main_class: "com.example.MainClass"
        param_class: "com.example.ParamClass"  # Optional
        mem:
          xs: "256m"   # Initial heap size
          xm: "512m"   # Maximum heap size
        java_home: "/usr/lib/jvm/java-8-openjdk"
      
      # Instance configuration
      instance_id: "my-app-001"
      instance_dir: "/home/team/app/instances/my-app-001"
      release_version: "1.0.0"
      instance_user: "appuser"
      instance_group: "appgroup"
      
      # Environment variables (ENV_ prefix - kept in state.env)
      ENV_DATABASE_URL: "postgresql://localhost:5432/mydb"
      ENV_LOG_LEVEL: "INFO"
      
      # Environment variables (ENVSTRIP_ prefix - prefix removed in state.env)
      ENVSTRIP_API_KEY: "secret-key-123"  # Will be stored as API_KEY=secret-key-123
      ENVSTRIP_CONFIG_PATH: "/etc/app/config"  # Will be stored as CONFIG_PATH=/etc/app/config
      
      # Bedrock variables (BEDROCK_ prefix - kept in state.env)
      BEDROCK_CONFIG_PATH: "/etc/bedrock/config"
      BEDROCK_ENVIRONMENT: "production"
      
      # Artifact fetching configuration (optional - enables artifact role)
      # Supports multiple artifact sources: "local" or "nexus"
      
      # Example 1: Local/runner artifact source (for local dev and GitLab CI)
      artifact_source:
        type: "local"
        local:
          domain: "me"      # Domain/org name (e.g., "me", "sor", "xyz")
          app_name: "my-app"  # App name matching {domain}/apps/{app_name} structure
      
      # Example 2: Nexus artifact source (for production deployments)
      # artifact_source:
      #   type: "nexus"
      #   nexus:
      #     url: "https://nexus.example.com"
      #     group_id: "com.example"
      #     artifact_id: "my-app"
      #     version: "{{ release_version }}"  # Can use release_version variable
      #     repository: "maven-releases"
      #     username: "{{ nexus_username }}"  # Optional
      #     password: "{{ nexus_password }}"   # Optional, use vault
      #     extension: "tgz"

