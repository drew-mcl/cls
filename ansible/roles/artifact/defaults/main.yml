---
# Default variables for artifact role

# Instance user and group
instance_user: null  # defaults to ansible_user
instance_group: null  # defaults to ansible_user

# Artifact source configuration
# Supports multiple artifact sources: "local" or "nexus"
artifact_source:
  type: "local"  # Options: "local", "nexus"
  
  # Local/runner artifact configuration
  # Used for local development and GitLab CI runners
  # app_name can come from neuron_config.app_name if not set here
  local:
    domain: null      # Required for local: domain/org name (e.g., "me", "sor", "xyz")
    app_name: null    # Optional: app name (falls back to neuron_config.app_name)
    base_path: "{{ ansible_env.CI_PROJECT_DIR | default(ansible_env.PWD | default('/tmp')) }}"
    relative_path: "{{ artifact_source.local.domain }}/apps/{{ artifact_source.local.app_name | default(neuron_config.app_name) }}/build/distribution"
  
  # Nexus artifact configuration
  # Uses community.general.maven_nexus module
  nexus:
    url: null           # Required for nexus: Nexus repository URL
    group_id: "com.neuron"  # Default groupId (can be overridden)
    artifact_id: null   # Required for nexus: Maven artifactId
    version: null       # Optional: Artifact version (defaults to release_version)
    repository: "maven-releases"  # Nexus repository name
    extension: "tgz"    # Artifact extension (default: tgz)
    classifier: null   # Optional: Maven classifier

# Artifact destination (uses _neuron_release_dir_path if available)
# Will be set dynamically in tasks based on _neuron_release_dir_path
artifact_dest: null

